<div *ngIf="loading" class="loading">Cargando métodos de pago...</div>

<div *ngIf="error" class="error">{{ error }}</div>

<div *ngIf="!loading && !error && payments.length > 0" class="address-container">
  <div *ngFor="let payment of payments" class="address-bubble" (click)="selectPayment(payment)">
    <p><strong>Método:</strong> {{ payment.paymentMethod }}</p>
    <p><strong>Número:</strong> {{ payment.cardNumber ? ('**** **** **** ' + payment.cardNumber.slice(-4)) : 'Sin número' }}</p>
    <p><strong>Titular:</strong> {{ payment.cardHolder || 'No disponible' }}</p>
    <p><strong>Expira:</strong> {{ payment.cardExpiry || 'No disponible' }}</p>
  </div>

  <a href="/user/payment" class="add-address-button">Agregar método de pago</a>
</div>

<div *ngIf="!loading && !error && payments.length === 0" class="no-addresses">
  No hay métodos de pago registrados para este usuario.
  <br/>
  <a href="/user/payment" class="add-address-button no-address-button">Agregar método de pago</a>
</div>
